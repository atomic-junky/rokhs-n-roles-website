---
import { sanityClient } from "sanity:client";
import BlogLayout from '../layouts/BlogLayout.astro';

const postCount = await sanityClient.fetch(`count(*[_type == "post" && defined(slug)])`);
---

<BlogLayout
	title="Blog"
	postCount={postCount}
	pageTitle="Les derniers posts"
	baseQuery=`*[_type == "post" && defined(slug)] | order(publishedAt desc)`
/>